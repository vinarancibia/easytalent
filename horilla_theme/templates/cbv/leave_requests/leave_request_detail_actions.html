{% load i18n %}

{% if instance.is_approved and instance.status == 'requested' %}
	<a
		href="{% url 'request-approve' instance.id %}"
		title="{% trans 'Approve' %}"
		class="oh-btn oh-btn--success"
		{% if instance.end_date.month <= current_date.month %}
			onclick = "return confirm('Do You really want to Approve this request?')";
		{% else %}
			onclick = "leaveRequestConfirm(`This leave request is for the month of {{instance.start_date|date:'F'}}. Approval depends on the {{instance.employee_id.get_full_name}} having available leave days for this month.`,event);"
		{% endif %}
	>
		<ion-icon class="me-1" name="checkmark-outline"></ion-icon> {% trans 'Approve' %}
	</a>
{% else %}
	<a
		type="submit"
		href="#"
		title="{% trans 'Approve' %}"
		class="oh-btn oh-btn-group oh-btn--success oh-btn--disabled"
	>
		<ion-icon class="me-1" name="checkmark-outline"></ion-icon> {% trans 'Approve' %}
	</a>
{% endif %}

<button
	data-toggle="oh-modal-toggle"
	data-target="#penaltyModal"
	hx-target="#penaltyModalBody"
	hx-get="{% url 'leave-cut-penalty' instance.id %}"
	type="submit"
	class="oh-btn oh-btn--info"
	title="{% trans 'Penalty' %}"
	id="penaltyButton"
>
	<ion-icon
		name="information-circle-outline"
		role="img"
		class="md hydrated"
		aria-label="information circle outline"
	></ion-icon> {% trans 'Penalty' %}
</button>

{% if instance.status != 'rejected' and instance.end_date >= current_date %}
	<a
		type="submit"
		data-toggle="oh-modal-toggle"
		data-target="#rejectModal"
		hx-get="{% url 'request-cancel' instance.id %}"
		hx-target="#rejectForm"
		title="{% trans 'Reject' %}"
		class="oh-btn oh-btn--danger"
	>
		<ion-icon class="me-1" name="close-circle-outline"></ion-icon> {% trans 'Reject' %}
	</a>
{% else %}
	<a
		type="submit"
		href="#"
		title="{% trans 'Reject' %}"
		class="oh-btn oh-btn-group oh-btn--danger oh-btn--disabled"
	>
		<ion-icon class="me-1" name="close-circle-outline"></ion-icon> {% trans 'Reject' %}
	</a>
{% endif %}
